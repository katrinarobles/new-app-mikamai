<div class="carousel-container">
  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
          <%= cl_image_tag @article1.photo.key, class: "image-carousel d-block w-100", alt: "First slide" %>
        <div class="carousel-caption d-none d-md-block">
          <h1> <%= link_to @article1.title, article_path(@article1) %></h1>
          <p><%= @article1.author %></p>
        </div>
      </div>
      <div class="carousel-item">
        <%= cl_image_tag @article2.photo.key, class: "image-carousel d-block w-100", alt: "Second slide" %>
        <div class="carousel-caption d-none d-md-block">
          <h1><%= link_to @article2.title, article_path(@article2) %></h1>
          <p><%= @article2.author %></p>
        </div>
      </div>
      <div class="carousel-item">
        <%= cl_image_tag @article3.photo.key, class: "image-carousel d-block w-100", alt: "Third slide" %>
        <div class="carousel-caption d-none d-md-block">
          <h1><%= link_to @article3.title, article_path(@article3) %></h1>
          <p><%= @article3.author %></p>
        </div>
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>

<div class="container">
  <div class="row justify-content-center">
    <div id="home-page" class="col-6 m-2">
    <h1>Atlas</h1>
    <p>
      <span id="banner-typed-text"></span>
    </p>

    <% if !user_signed_in? %>
      <p><%= link_to "Login", new_user_session_path, class: "btn btn-gradient" %>  <%= link_to "Sign Up", new_user_registration_path, class: "btn btn-signup"%></p>
    <% end %>
    </div>
  </div>
</div>



<div class="container">
  <div class="row">
    <div class="col-12 m-2">
      <div class="srch-bar">
        <%= form_tag root_path, method: :get do %>
          <%= text_field_tag :query,
            params[:query],
            class: "form-control",
            placeholder: "Search for an article"
          %>
          <p><%= submit_tag "Search", class: "btn btn-primary m-2" %></p>
        <% end %>
      </div>

<% @articles.each do |article| %>
      <div class="cards">
        <%= link_to article_path(article) do %>
            <div class="single-crd">
                <%= cl_image_tag article.photo.key, class: "picture" %>
              <div class="single-crd-infos">
                  <h4><%= link_to article.title, article_path(article) %></h4>
                  <p> <%= article.text.gsub(/\[.*\]/, "") %></p>
                  <p><%= article.author %></p>
              </div>
        <% end %>
            </div>
  <% end %>
      </div>
      <%= link_to "More Articles", articles_path, class: "btn btn-gradient" %>
    </div>
  </div>
</div>
